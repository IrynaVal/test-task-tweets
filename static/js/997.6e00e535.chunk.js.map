{"version":3,"file":"static/js/997.6e00e535.chunk.js","mappings":"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","sources":["services/getUsers.js","components/BackLink/BackLink.styled.jsx","components/BackLink/BackLink.jsx","components/Tweet/Tweet.styled.jsx","components/TweetButton/TweetButton.styled.jsx","components/TweetButton/TweetButton.jsx","components/Tweet/Tweet.jsx","components/Tweets/Tweets.styled.jsx","components/Tweets/Tweets.jsx","components/LoadButton/LoadButton.styled.jsx","components/LoadButton/LoadButton.jsx","pages/TweetsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://644598130431e885f000cfc6.mockapi.io';\n\nexport async function getUsers(page, tweetsPerPage) {\n  const response = await axios.get(\n    `${BASE_URL}/users?page=${page}&limit=${tweetsPerPage}`\n  );\n  return response.data;\n}\n\nexport function updateUser(id, followersNumber) {\n  return fetch(`${BASE_URL}/users/${id}`, {\n    method: 'PUT',\n    headers: { 'content-type': 'application/json' },\n    body: JSON.stringify({ followers: followersNumber }),\n  }).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    console.log('error');\n    throw new Error(response.statusText);\n  });\n}\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const StyledLink = styled(Link)`\n  display: block;\n  margin-bottom: 20px;\n  text-decoration: none;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 700;\n  font-size: 14px;\n`;\n","import { StyledLink } from './BackLink.styled';\nimport { BsArrowLeftShort } from 'react-icons/bs';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <BsArrowLeftShort />\n      {children}\n    </StyledLink>\n  );\n};\n","import styled from 'styled-components';\nimport Logo from '../../img/Logo.png';\nimport Picture from '../../img/Picture.png';\nimport Ellipse from '../../img/Ellipse.png';\n\nexport const Card = styled.li`\n  width: 380px;\n  height: 460px;\n\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n  position: relative;\n  list-style: none;\n\n  background-image: ${`url(${Logo})`}, ${`url(${Picture})`},\n    linear-gradient(114.99deg, #471ca9 -0.99%, #5736a3 54.28%, #4b2a99 78.99%);\n  background-repeat: no-repeat;\n  background-size: 76px 22px, 308px 168px, 100%;\n  background-position: top 20px left 20px, top 28px left 36px, 100%;\n\n  &::after {\n    position: absolute;\n    top: 214px;\n    left: 0;\n    content: '';\n    display: inline-block;\n    width: 100%;\n    height: 8px;\n    background-color: #ebd8ff;\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n`;\n\nexport const ImgEllipse = styled.div`\n  width: 80px;\n  height: 80px;\n  background-image: linear-gradient(\n      114.99deg,\n      #471ca9 -0.99%,\n      #5736a3 54.28%,\n      #4b2a99 78.99%\n    ),\n    ${`url(${Ellipse})`};\n  border-radius: 50%;\n  position: absolute;\n  left: 150px;\n  top: 178px;\n  z-index: 100;\n\n  background: #ebd8ff;\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\n    inset 0px -2.19582px 4.39163px #ae7be3,\n    inset 0px 4.39163px 3.29372px #fbf8ff;\n`;\n\nexport const ImgBox = styled.div`\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 62px;\n  height: 62px;\n  overflow: hidden;\n  background: #5736a3;\n  border-radius: 50%;\n`;\n\nexport const TextBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 284px;\n  text-align: center;\n`;\n\nexport const Text = styled.p`\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  color: #ebd8ff;\n  text-transform: uppercase;\n`;\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  margin-left: 92px;\n  margin-right: 92px;\n  margin-top: 26px;\n  width: 196px;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  justify-content: center;\n  align-items: center;\n  padding: 14px;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n\n    background-color: ${props => {\n      return props.isActive ? '#5cd3a8' : '#ebd8ff';\n    }}\n  }\n`;\n","import { StyledButton } from './TweetButton.styled';\n\nexport const TweetButton = ({ onClick, text, isActive = false }) => {\n  return (\n    <StyledButton type=\"button\" onClick={onClick} isActive={isActive}>\n      {text}\n    </StyledButton>\n  );\n};\n","import { useState } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Card, ImgBox, TextBox, Text, ImgEllipse } from './Tweet.styled';\nimport { TweetButton } from 'components/TweetButton/TweetButton';\nimport { updateUser } from 'services/getUsers';\n\nexport const Tweet = ({ item, setFollowingTweets, followed }) => {\n  const [isFollowed, setIsFollowed] = useState(followed);\n  const [followersNumber, setFollowersNumber] = useState(item.followers);\n\n  // useEffect(() => {\n  //    idArray.map(tweet => {\n  //   if (idArray.includes([item.id])) {\n  //     setIsFollowed(true);\n  //   }\n  //  return;\n  // }, [idArray, item.id]);\n\n  const toggleIsFollowed = id => {\n    if (!isFollowed) {\n      setIsFollowed(true);\n      setFollowersNumber(prevState => prevState + 1);\n      updateUser(id, followersNumber + 1)\n        .then(data => {\n          setFollowingTweets(prevState => [...prevState, data]);\n        })\n        .catch(error => {\n          toast.error('Sorry, error happened.');\n        });\n    } else {\n      setIsFollowed(false);\n      setFollowersNumber(prevState => prevState - 1);\n      updateUser(id, followersNumber - 1)\n        .then(data => {\n          setFollowingTweets(prevState =>\n            prevState.filter(tweet => tweet.id !== data.id)\n          );\n        })\n        .catch(error => {\n          toast.error('Sorry, error happened.');\n        });\n    }\n  };\n\n  return (\n    <Card key={item.id} isFollowed={isFollowed}>\n      <ImgEllipse>\n        <ImgBox>\n          <img src={item.avatar} alt={item.user} />\n        </ImgBox>\n      </ImgEllipse>\n      <TextBox>\n        <Text>{item.tweets.toLocaleString('en-IN')} tweets</Text>\n        <Text>{followersNumber.toLocaleString('en-IN')} followers</Text>\n      </TextBox>\n\n      <TweetButton\n        text={isFollowed ? 'following' : 'follow'}\n        isActive={isFollowed}\n        onClick={() => toggleIsFollowed(item.id)}\n      />\n    </Card>\n  );\n};\n","import styled from 'styled-components';\n\nexport const TweetsList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  justify-content: space-evenly;\n`;\n","import { Tweet } from 'components/Tweet/Tweet';\nimport { TweetsList } from './Tweets.styled';\n\nexport const Tweets = ({ tweets, setFollowingTweets, followingTweets }) => {\n  const idArray = followingTweets.map(({ id }) => {\n    let array = [];\n    array.push(id);\n    return array;\n  });\n\n  return (\n    <TweetsList>\n      {tweets.length !== 0 &&\n        tweets.map(tweet => {\n          const followed = idArray.includes(tweet.id) ? true : false;\n\n          return (\n            <Tweet\n              item={tweet}\n              key={tweet.id}\n              setFollowingTweets={setFollowingTweets}\n              followed={followed}\n            />\n          );\n        })}\n    </TweetsList>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 26px;\n  display: block;\n  width: 196px;\n  background: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  text-align: center;\n  padding: 14px;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n`;\n","import { StyledButton } from './LoadButton.styled';\n\nexport const LoadButton = ({ onClick }) => {\n  return (\n    <StyledButton type=\"button\" onClick={onClick}>\n      Load more\n    </StyledButton>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { Toaster, toast } from 'react-hot-toast';\nimport { ColorRing } from 'react-loader-spinner';\nimport { getUsers } from '../services/getUsers';\nimport { useLocation } from 'react-router-dom';\nimport { useRef } from 'react';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport { Tweets } from 'components/Tweets/Tweets';\nimport { LoadButton } from 'components/LoadButton/LoadButton';\n\nconst TweetsPage = () => {\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [tweets, setTweets] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [tweetsPerPage] = useState(3);\n  const [followingTweets, setFollowingTweets] = useState(() => {\n    return JSON.parse(window.localStorage.getItem('following')) ?? [];\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem('following', JSON.stringify(followingTweets));\n  }, [followingTweets]);\n\n  useEffect(() => {\n    setLoading(true);\n    getUsers(page, tweetsPerPage)\n      .then(data => {\n        if (data.length === 0) {\n          return Promise.reject(new Error());\n        }\n\n        setTweets(prevState => {\n          return [...prevState, ...data];\n        });\n      })\n      .catch(error => {\n        toast.error('Sorry, error happened.');\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [page, tweetsPerPage]);\n\n  const handleLoad = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  return (\n    <>\n      <BackLink to={backLinkLocationRef.current}>Back</BackLink>\n      {tweets.length !== 0 && (\n        <Tweets\n          tweets={tweets}\n          setFollowingTweets={setFollowingTweets}\n          followingTweets={followingTweets}\n        />\n      )}\n      {loading && (\n        <ColorRing\n          visible={true}\n          height=\"80\"\n          width=\"80\"\n          ariaLabel=\"blocks-loading\"\n          wrapperStyle={{ marginLeft: 'auto', marginRight: 'auto' }}\n          wrapperClass=\"blocks-wrapper\"\n          colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n        />\n      )}\n      {tweets.length !== 0 && !loading && <LoadButton onClick={handleLoad} />}\n      <Toaster />\n    </>\n  );\n};\nexport default TweetsPage;\n"],"names":["BASE_URL","page","tweetsPerPage","axios","response","data","updateUser","id","followersNumber","fetch","method","headers","body","JSON","stringify","followers","then","ok","json","console","log","Error","statusText","StyledLink","styled","Link","BackLink","to","children","Card","Picture","ImgEllipse","ImgBox","TextBox","Text","StyledButton","props","isActive","TweetButton","onClick","text","type","Tweet","item","setFollowingTweets","followed","useState","isFollowed","setIsFollowed","setFollowersNumber","src","avatar","alt","user","tweets","toLocaleString","prevState","filter","tweet","catch","error","toast","TweetsList","Tweets","idArray","followingTweets","map","array","push","length","includes","LoadButton","location","useLocation","backLinkLocationRef","useRef","state","from","setTweets","loading","setLoading","setPage","parse","window","localStorage","getItem","useEffect","setItem","getUsers","Promise","reject","finally","current","visible","height","width","ariaLabel","wrapperStyle","marginLeft","marginRight","wrapperClass","colors"],"sourceRoot":""}