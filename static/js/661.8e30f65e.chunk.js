"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[661],{661:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var r=n(433),o=n(439),c=n(791),a=n(402),s=n(861),l=n(757),i=n.n(l),u=n(243),f="https://644598130431e885f000cfc6.mockapi.io";function p(){return(p=(0,s.Z)(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(f,"/users?page=").concat(e,"&limit=").concat(n));case 2:return r=t.sent,console.log(r),console.log(r.data),t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h,d=n(689),b=n(168),g=n(444),w=n(87),x=(0,g.ZP)(w.rU)(h||(h=(0,b.Z)(["\n  display: block;\n  margin-bottom: 20px;\n  text-decoration: none;\n  color: black;\n"]))),m=n(185),k=n(184),j=function(t){var e=t.to,n=t.children;return(0,k.jsxs)(x,{to:e,children:[(0,k.jsx)(m.i1r,{}),n]})},v=function(t){var e=t.tweets;return(0,k.jsx)("ul",{children:0!==e.length&&e.map((function(t){var e=t.id,n=t.user,r=t.avatar,o=t.followers,c=t.tweets;return(0,k.jsxs)("li",{children:[(0,k.jsx)("img",{src:r,alt:n}),(0,k.jsxs)("p",{children:[c," ","tweets".toUpperCase()]}),(0,k.jsxs)("p",{children:[o," ","followers".toUpperCase()]}),(0,k.jsx)("button",{type:"button",children:"follow".toUpperCase()})]},e)}))})},Z=function(t){var e=t.onClick;return(0,k.jsx)("button",{type:"button",onClick:e,children:"Load more"})},C=function(){var t,e,n=(0,d.TH)(),s=(0,c.useRef)(null!==(t=null===(e=n.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/"),l=(0,c.useState)([]),i=(0,o.Z)(l,2),u=i[0],f=i[1],h=(0,c.useState)(!1),b=(0,o.Z)(h,2),g=b[0],w=b[1],x=(0,c.useState)(1),m=(0,o.Z)(x,2),C=m[0],y=m[1],S=(0,c.useState)(3),U=(0,o.Z)(S,1)[0];(0,c.useEffect)((function(){w(!0),function(t,e){return p.apply(this,arguments)}(C,U).then((function(t){if(0===t.length)return Promise.reject(new Error);f((function(e){return console.log(e),console.log(t),[].concat((0,r.Z)(e),(0,r.Z)(t))}))})).catch((function(t){console.log("error")})).finally((function(){w(!1)}))}),[C,U]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(j,{to:s.current,children:"Back"}),0!==u.length&&(0,k.jsx)(v,{tweets:u}),g&&(0,k.jsx)(a.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{marginLeft:"auto",marginRight:"auto"},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),0!==u.length&&!g&&(0,k.jsx)(Z,{onClick:function(){y((function(t){return t+1}))}})]})}}}]);
//# sourceMappingURL=661.8e30f65e.chunk.js.map