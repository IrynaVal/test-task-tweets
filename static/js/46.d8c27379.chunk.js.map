{"version":3,"file":"static/js/46.d8c27379.chunk.js","mappings":"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","sources":["services/getUsers.js","components/BackLink/BackLink.styled.jsx","components/BackLink/BackLink.jsx","components/Tweet/Tweet.styled.jsx","components/TweetButton/TweetButton.styled.jsx","components/TweetButton/TweetButton.jsx","components/Tweet/Tweet.jsx","components/Tweets/Tweets.styled.jsx","components/Tweets/Tweets.jsx","components/LoadButton/LoadButton.styled.jsx","components/LoadButton/LoadButton.jsx","pages/TweetsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://644598130431e885f000cfc6.mockapi.io';\n\nexport async function getUsers(page, tweetsPerPage) {\n  const response = await axios.get(\n    `${BASE_URL}/users?page=${page}&limit=${tweetsPerPage}`\n  );\n  return response.data;\n}\n\nexport function updateUser(id, followersNumber) {\n  return fetch(`${BASE_URL}/users/${id}`, {\n    method: 'PUT',\n    headers: { 'content-type': 'application/json' },\n    body: JSON.stringify({ followers: followersNumber }),\n  }).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    console.log('error');\n    throw new Error(response.statusText);\n  });\n}\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const StyledLink = styled(Link)`\n  display: block;\n  margin-bottom: 20px;\n  text-decoration: none;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 700;\n  font-size: 14px;\n`;\n","import { StyledLink } from './BackLink.styled';\nimport { BsArrowLeftShort } from 'react-icons/bs';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <BsArrowLeftShort />\n      {children}\n    </StyledLink>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Card = styled.li`\n  width: 380px;\n  height: 460px;\n  background: linear-gradient(\n      114.99deg,\n      #471ca9 -0.99%,\n      #5736a3 54.28%,\n      #4b2a99 78.99%\n    ),\n    url(../../../img/Picture.jpg), url(../../../img/Logo.jpg);\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n  position: relative;\n  list-style: none;\n\n  &::after {\n    position: absolute;\n    top: 214px;\n    left: 0;\n    content: '';\n    display: inline-block;\n    width: 100%;\n    height: 8px;\n    background-color: #ebd8ff;\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n`;\n\nexport const ImgBox = styled.div`\n  width: 80px;\n  height: 80px;\n  background: linear-gradient(\n      114.99deg,\n      #471ca9 -0.99%,\n      #5736a3 54.28%,\n      #4b2a99 78.99%\n    ),\n    url(../../../img/Ellipse.jpg);\n  border-radius: 50%;\n  position: absolute;\n  left: 150px;\n  top: 178px;\n  z-index: 100;\n  overflow: hidden;\n`;\n\nexport const TextBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 284px;\n  text-align: center;\n`;\n\nexport const Text = styled.p`\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  color: #ebd8ff;\n`;\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  margin-left: 92px;\n  margin-right: 92px;\n  margin-top: 26px;\n  width: 196px;\n  // background-color: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  justify-content: center;\n  align-items: center;\n  padding: 14px;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n\n    background-color: ${props => {\n      return props.isActive ? '#5cd3a8' : '#ebd8ff';\n    }}\n  \n  }\n`;\n","import { StyledButton } from './TweetButton.styled';\n\nexport const TweetButton = ({ onClick, text, isActive = false }) => {\n  return (\n    <StyledButton type=\"button\" onClick={onClick} isActive={isActive}>\n      {text.toUpperCase()}\n    </StyledButton>\n  );\n};\n","import { useState } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Card, ImgBox, TextBox, Text } from './Tweet.styled';\nimport { TweetButton } from 'components/TweetButton/TweetButton';\nimport { updateUser } from 'services/getUsers';\n\nexport const Tweet = ({ item: { id, user, avatar, followers, tweets } }) => {\n  const [isFollowed, setIsFollowed] = useState(false);\n  const [followersNumber, setFollowersNumber] = useState(followers);\n  //   const [followersNumber, setFollowersNumber] = useState(() => {\n  //     const parsedData = JSON.parse(window.localStorage.getItem('followersData'));\n  //     return parsedData.followers ?? [];\n  //   });\n  //   const [isFollowed, setIsFollowed] = useState(() => {\n  //     return JSON.parse(window.localStorage.getItem('isFollowed') ?? 'false');\n  //   });\n  //   useEffect(() => {\n  //     window.localStorage.setItem('isFollowed', JSON.stringify(isFollowed));\n  //   }, [isFollowed]);\n  // })\n\n  // useEffect(() => {\n  //   const followersData = {\n  //     id: id,\n  //     isFollowed,\n  //   };\n  //   return followersData;\n  //   let array = [];\n  //   array.push(followersData);\n  //   window.localStorage.setItem('isFollowed', JSON.stringify(array));\n  // }, [id, isFollowed]);\n\n  // const saveToLocalStorage = (id, isFollowed) => {\n  //   let localStorageArray = [];\n  //   const followersData = {\n  //     id: id,\n  //     isFollowed,\n  //   };\n  //   if (localStorageArray.includes(followersData.id)) {\n  //     return;\n  //   }\n  //   localStorageArray.push(followersData);\n\n  //   window.localStorage.setItem(\n  //     'isFollowed',\n  //     JSON.stringify(localStorageArray)\n  //   );\n  // };\n\n  const toggleIsFollowed = id => {\n    if (!isFollowed) {\n      setIsFollowed(true);\n      setFollowersNumber(prevState => prevState + 1);\n      updateUser(id, followersNumber + 1)\n        .then(data => {\n          console.log(data);\n        })\n        .catch(error => {\n          toast.error('Sorry, error happened.');\n        });\n    } else {\n      setIsFollowed(false);\n      setFollowersNumber(prevState => prevState - 1);\n      updateUser(id, followersNumber - 1)\n        .then(data => {\n          console.log(data);\n        })\n        .catch(error => {\n          toast.error('Sorry, error happened.');\n        });\n    }\n  };\n\n  const tweetsText = 'tweets';\n  const followersText = 'followers';\n\n  return (\n    <Card key={id}>\n      <ImgBox>\n        <img src={avatar} alt={user} />\n      </ImgBox>\n      <TextBox>\n        <Text>\n          {tweets.toLocaleString('en-IN')} {tweetsText.toUpperCase()}\n        </Text>\n        <Text>\n          {followersNumber.toLocaleString('en-IN')}{' '}\n          {followersText.toUpperCase()}\n        </Text>\n      </TextBox>\n\n      <TweetButton\n        text={isFollowed ? 'following' : 'follow'}\n        isActive={isFollowed}\n        onClick={() => toggleIsFollowed(id)}\n      />\n    </Card>\n  );\n};\n","import styled from 'styled-components';\n\nexport const TweetsList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  justify-content: space-evenly;\n`;\n","import { Tweet } from 'components/Tweet/Tweet';\nimport { TweetsList } from './Tweets.styled';\n\nexport const Tweets = ({ tweets }) => {\n  return (\n    <TweetsList>\n      {tweets.length !== 0 &&\n        tweets.map(tweet => {\n          return <Tweet item={tweet} key={tweet.id} />;\n        })}\n    </TweetsList>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 26px;\n  display: block;\n  width: 196px;\n  background: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10.3108px;\n  text-align: center;\n  padding: 14px;\n  color: #373737;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n`;\n","import { StyledButton } from './LoadButton.styled';\n\nexport const LoadButton = ({ onClick }) => {\n  return (\n    <StyledButton type=\"button\" onClick={onClick}>\n      Load more\n    </StyledButton>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { Toaster, toast } from 'react-hot-toast';\nimport { ColorRing } from 'react-loader-spinner';\nimport { getUsers } from '../services/getUsers';\nimport { useLocation } from 'react-router-dom';\nimport { useRef } from 'react';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport { Tweets } from 'components/Tweets/Tweets';\nimport { LoadButton } from 'components/LoadButton/LoadButton';\n\nconst TweetsPage = () => {\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [tweets, setTweets] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [tweetsPerPage] = useState(3);\n\n  useEffect(() => {\n    setLoading(true);\n    getUsers(page, tweetsPerPage)\n      .then(data => {\n        if (data.length === 0) {\n          return Promise.reject(new Error());\n        }\n\n        setTweets(prevState => {\n          return [...prevState, ...data];\n        });\n      })\n      .catch(error => {\n        toast.error('Sorry, error happened.');\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [page, tweetsPerPage]);\n\n  const handleLoad = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  return (\n    <>\n      <BackLink to={backLinkLocationRef.current}>Back</BackLink>\n      {tweets.length !== 0 && <Tweets tweets={tweets} />}\n      {loading && (\n        <ColorRing\n          visible={true}\n          height=\"80\"\n          width=\"80\"\n          ariaLabel=\"blocks-loading\"\n          wrapperStyle={{ marginLeft: 'auto', marginRight: 'auto' }}\n          wrapperClass=\"blocks-wrapper\"\n          colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n        />\n      )}\n      {tweets.length !== 0 && !loading && <LoadButton onClick={handleLoad} />}\n      <Toaster />\n    </>\n  );\n};\nexport default TweetsPage;\n"],"names":["BASE_URL","page","tweetsPerPage","axios","response","data","updateUser","id","followersNumber","fetch","method","headers","body","JSON","stringify","followers","then","ok","json","console","log","Error","statusText","StyledLink","styled","Link","BackLink","to","children","Card","ImgBox","TextBox","Text","StyledButton","props","isActive","TweetButton","onClick","text","type","toUpperCase","Tweet","item","user","avatar","tweets","useState","isFollowed","setIsFollowed","setFollowersNumber","src","alt","toLocaleString","prevState","catch","error","toast","toggleIsFollowed","TweetsList","Tweets","length","map","tweet","LoadButton","location","useLocation","backLinkLocationRef","useRef","state","from","setTweets","loading","setLoading","setPage","useEffect","getUsers","Promise","reject","finally","current","visible","height","width","ariaLabel","wrapperStyle","marginLeft","marginRight","wrapperClass","colors"],"sourceRoot":""}